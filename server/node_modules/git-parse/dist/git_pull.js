"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _util = _interopRequireDefault(require("util.promisify"));

var _child_process = _interopRequireDefault(require("child_process"));

var _util2 = require("./util");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const exec = (0, _util.default)(_child_process.default.exec);
/**
 * Pulls a repo given its path.
 *
 * Returns child_process exec output for git pull. Throws error on failure.
 */

const gitPull = async pathToRepo => {
  const resolvedPath = (0, _util2.resolveHome)(pathToRepo);

  try {
    (0, _util2.validatePath)(resolvedPath);
  } catch (e) {
    return Promise.reject(e);
  }

  return exec(`git pull`, {
    cwd: resolvedPath
  });
};

var _default = gitPull;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9naXRfcHVsbC50cyJdLCJuYW1lcyI6WyJleGVjIiwiY2hpbGRQcm9jZXNzIiwiZ2l0UHVsbCIsInBhdGhUb1JlcG8iLCJyZXNvbHZlZFBhdGgiLCJlIiwiUHJvbWlzZSIsInJlamVjdCIsImN3ZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsSUFBSSxHQUFHLG1CQUFVQyx1QkFBYUQsSUFBdkIsQ0FBYjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0EsTUFBTUUsT0FBTyxHQUFHLE1BQ2RDLFVBRGMsSUFFa0M7QUFDaEQsUUFBTUMsWUFBWSxHQUFHLHdCQUFZRCxVQUFaLENBQXJCOztBQUVBLE1BQUk7QUFDRiw2QkFBYUMsWUFBYjtBQUNELEdBRkQsQ0FFRSxPQUFPQyxDQUFQLEVBQVU7QUFDVixXQUFPQyxPQUFPLENBQUNDLE1BQVIsQ0FBZUYsQ0FBZixDQUFQO0FBQ0Q7O0FBRUQsU0FBT0wsSUFBSSxDQUFFLFVBQUYsRUFBYTtBQUFFUSxJQUFBQSxHQUFHLEVBQUVKO0FBQVAsR0FBYixDQUFYO0FBQ0QsQ0FaRDs7ZUFjZUYsTyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcm9taXNpZnkgZnJvbSBcInV0aWwucHJvbWlzaWZ5XCI7XG5pbXBvcnQgY2hpbGRQcm9jZXNzIGZyb20gXCJjaGlsZF9wcm9jZXNzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVBhdGgsIHJlc29sdmVIb21lIH0gZnJvbSBcIi4vdXRpbFwiO1xuXG5jb25zdCBleGVjID0gcHJvbWlzaWZ5KGNoaWxkUHJvY2Vzcy5leGVjKTtcblxuLyoqXG4gKiBQdWxscyBhIHJlcG8gZ2l2ZW4gaXRzIHBhdGguXG4gKlxuICogUmV0dXJucyBjaGlsZF9wcm9jZXNzIGV4ZWMgb3V0cHV0IGZvciBnaXQgcHVsbC4gVGhyb3dzIGVycm9yIG9uIGZhaWx1cmUuXG4gKi9cbmNvbnN0IGdpdFB1bGwgPSBhc3luYyAoXG4gIHBhdGhUb1JlcG86IHN0cmluZ1xuKTogUHJvbWlzZTx7IHN0ZG91dDogc3RyaW5nOyBzdGRlcnI6IHN0cmluZyB9PiA9PiB7XG4gIGNvbnN0IHJlc29sdmVkUGF0aCA9IHJlc29sdmVIb21lKHBhdGhUb1JlcG8pO1xuXG4gIHRyeSB7XG4gICAgdmFsaWRhdGVQYXRoKHJlc29sdmVkUGF0aCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gIH1cblxuICByZXR1cm4gZXhlYyhgZ2l0IHB1bGxgLCB7IGN3ZDogcmVzb2x2ZWRQYXRoIH0pO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgZ2l0UHVsbDtcbiJdfQ==